(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56154de0"],{"00b4":function(e,t,c){"use strict";c("ac1f");var r=c("23e7"),a=c("da84"),n=c("c65b"),s=c("e330"),o=c("1626"),l=c("861d"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=a.Error,d=s(/./.test);r({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=this.exec;if(!o(t))return d(this,e);var c=n(t,this,e);if(null!==c&&!l(c))throw new u("RegExp exec method returned something other than an Object or null");return!!c}})},"0b42":function(e,t,c){var r=c("da84"),a=c("e8b5"),n=c("68ee"),s=c("861d"),o=c("b622"),l=o("species"),i=r.Array;e.exports=function(e){var t;return a(e)&&(t=e.constructor,n(t)&&(t===i||a(t.prototype))?t=void 0:s(t)&&(t=t[l],null===t&&(t=void 0))),void 0===t?i:t}},"1dde":function(e,t,c){var r=c("d039"),a=c("b622"),n=c("2d00"),s=a("species");e.exports=function(e){return n>=51||!r((function(){var t=[],c=t.constructor={};return c[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"43ea":function(e,t,c){"use strict";c("e673")},"4dcd":function(e,t,c){"use strict";var r=function(e){return{all:e=e||new Map,on:function(t,c){var r=e.get(t);r?r.push(c):e.set(t,[c])},off:function(t,c){var r=e.get(t);r&&(c?r.splice(r.indexOf(c)>>>0,1):e.set(t,[]))},emit:function(t,c){var r=e.get(t);r&&r.slice().map((function(e){e(c)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,c)}))}}},a=r();t["a"]=a},"635e":function(e,t,c){"use strict";c.r(t);c("b0c0");var r=c("7a23"),a={class:"container py-5"},n=Object(r["h"])('<ul class="progressbar mb-5 text-secondary d-flex list-unstyled justify-content-around"><li class="bg-success d-flex flex-column align-items-center"><i class="bi bi-cart-check fs-2"></i>確認購物車</li><li class="bg-warning d-flex flex-column align-items-center"><i class="bi bi-card-list fs-2"></i>填寫訂單</li><li class="border border-success border-2 d-flex flex-column align-items-center"><i class="bi bi-cash-coin fs-2"></i>完成付款</li></ul>',1),s={class:"row"},o={class:"col-12 col-md-6"},l=Object(r["g"])("h1",{class:"fs-3 fw-bold text-light text-center px-4 py-2 bg-success"}," 訂單明細 ",-1),i={class:"d-flex"},u={class:"px-3 text-secondary"},d={class:"fs-5 fw-bold"},f={class:"fs-5"},b=Object(r["g"])("hr",null,null,-1),m={class:"fs-4 text-secondary fw-bold"},g={class:"col-12 col-md-6"},p=Object(r["g"])("h2",{class:"fs-3 fw-bold text-light px-4 py-2 bg-success text-center"}," 訂購資訊填寫 ",-1),j={class:"mb-3"},v=Object(r["g"])("label",{for:"email",class:"form-label"},"Email*",-1),O={class:"mb-3"},h=Object(r["g"])("label",{for:"name",class:"form-label"},"姓名*",-1),x={class:"mb-3"},y=Object(r["g"])("label",{for:"tel",class:"form-label"},"電話*",-1),w={class:"mb-3"},V=Object(r["g"])("label",{for:"address",class:"form-label"},"收件地址*",-1),k={class:"mb-3"},E=Object(r["g"])("label",{for:"message",class:"form-label"},"留言",-1),S=Object(r["g"])("div",{class:"text-end"},[Object(r["g"])("button",{type:"submit",class:"btn btn-danger"},"送出訂單")],-1);function $(e,t,c,$,I,U){var A=Object(r["E"])("v-field"),D=Object(r["E"])("error-message"),q=Object(r["E"])("v-form");return Object(r["y"])(),Object(r["f"])("div",a,[n,Object(r["g"])("div",s,[Object(r["g"])("div",o,[l,(Object(r["y"])(!0),Object(r["f"])(r["a"],null,Object(r["D"])(I.cartData.carts,(function(e){return Object(r["y"])(),Object(r["f"])("ul",{class:"list-unstyled mt-3",key:e.id},[Object(r["g"])("li",i,[Object(r["g"])("div",{style:Object(r["s"])([{backgroundImage:"url(".concat(e.product.imageUrl,")")},{height:"120px",width:"120px","background-size":"cover","background-position":"center center"}])},null,4),Object(r["g"])("div",u,[Object(r["g"])("p",d,"產品: "+Object(r["H"])(e.product.title),1),Object(r["g"])("p",null,"購買數量: "+Object(r["H"])(e.qty)+"件",1),Object(r["g"])("p",f,"購買金額: NT$"+Object(r["H"])(e.total),1)])]),b])})),128)),Object(r["g"])("p",m,"合計金額: NT$ "+Object(r["H"])(I.cartData.total),1)]),Object(r["g"])("div",g,[p,Object(r["j"])(q,{ref:"form",class:"mt-3 bg-light p-3",onSubmit:U.onSubmit},{default:Object(r["Q"])((function(e){var c=e.errors;return[Object(r["g"])("div",j,[v,Object(r["j"])(A,{id:"email",name:"email",type:"email",class:Object(r["r"])(["form-control",{"is-invalid":c["email"]}]),placeholder:"請輸入 Email",modelValue:I.form.user.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return I.form.user.email=e}),rules:"email|required"},null,8,["class","modelValue"]),Object(r["j"])(D,{name:"email",class:"invalid-feedback"})]),Object(r["g"])("div",O,[h,Object(r["j"])(A,{id:"name",name:"姓名",type:"text",class:Object(r["r"])(["form-control",{"is-invalid":c["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:I.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return I.form.user.name=e})},null,8,["class","modelValue"]),Object(r["j"])(D,{name:"姓名",class:"invalid-feedback"})]),Object(r["g"])("div",x,[y,Object(r["j"])(A,{id:"tel",name:"電話",type:"tel",class:Object(r["r"])(["form-control",{"is-invalid":c["電話"]}]),placeholder:"請輸入電話 09xx-xxx-xxx",modelValue:I.form.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return I.form.user.tel=e}),rules:U.isPhone},null,8,["class","modelValue","rules"]),Object(r["j"])(D,{name:"電話",class:"invalid-feedback"})]),Object(r["g"])("div",w,[V,Object(r["j"])(A,{id:"address",name:"地址",type:"text",class:Object(r["r"])(["form-control",{"is-invalid":c["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:I.form.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return I.form.user.address=e})},null,8,["class","modelValue"]),Object(r["j"])(D,{name:"地址",class:"invalid-feedback"})]),Object(r["g"])("div",k,[E,Object(r["R"])(Object(r["g"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[4]||(t[4]=function(e){return I.form.message=e})},null,512),[[r["M"],I.form.message]])]),S]})),_:1},8,["onSubmit"])])])])}c("99af"),c("ac1f"),c("00b4");var I=c("4dcd"),U={data:function(){return{cartData:{carts:[]},form:{user:{name:"",email:"",tel:"",address:""},message:""},orderedId:""}},methods:{getCarts:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("ptsai0412","/cart")).then((function(t){e.cartData=t.data.data,I["a"].emit("get-cart")}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"},onSubmit:function(){var e=this,t=this.form;this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("ptsai0412","/order"),{data:t}).then((function(t){e.orderedId=t.data.orderId,e.$swal("已送出訂單"),e.$refs.form.resetForm(),e.form.message="",e.getCarts(),e.toPayment()})).catch((function(e){alert(e.message)}))},toPayment:function(){this.$router.push("/payment/".concat(this.orderedId))}},mounted:function(){this.getCarts()}},A=(c("43ea"),c("6b0d")),D=c.n(A);const q=D()(U,[["render",$]]);t["default"]=q},"65f0":function(e,t,c){var r=c("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},8418:function(e,t,c){"use strict";var r=c("a04b"),a=c("9bf2"),n=c("5c6c");e.exports=function(e,t,c){var s=r(t);s in e?a.f(e,s,n(0,c)):e[s]=c}},"99af":function(e,t,c){"use strict";var r=c("23e7"),a=c("da84"),n=c("d039"),s=c("e8b5"),o=c("861d"),l=c("7b0b"),i=c("07fa"),u=c("8418"),d=c("65f0"),f=c("1dde"),b=c("b622"),m=c("2d00"),g=b("isConcatSpreadable"),p=9007199254740991,j="Maximum allowed index exceeded",v=a.TypeError,O=m>=51||!n((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),h=f("concat"),x=function(e){if(!o(e))return!1;var t=e[g];return void 0!==t?!!t:s(e)},y=!O||!h;r({target:"Array",proto:!0,forced:y},{concat:function(e){var t,c,r,a,n,s=l(this),o=d(s,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(n=-1===t?s:arguments[t],x(n)){if(a=i(n),f+a>p)throw v(j);for(c=0;c<a;c++,f++)c in n&&u(o,f,n[c])}else{if(f>=p)throw v(j);u(o,f++,n)}return o.length=f,o}})},b0c0:function(e,t,c){var r=c("83ab"),a=c("5e77").EXISTS,n=c("e330"),s=c("9bf2").f,o=Function.prototype,l=n(o.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=n(i.exec),d="name";r&&!a&&s(o,d,{configurable:!0,get:function(){try{return u(i,l(this))[1]}catch(e){return""}}})},e673:function(e,t,c){},e8b5:function(e,t,c){var r=c("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-56154de0.dae3cb0c.js.map